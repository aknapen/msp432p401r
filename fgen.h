/*
 * fgen.h
 *
 *  Created on: May 11, 2020
 *      Author: sdanthinne
 */

#ifndef FGEN_H_
#define FGEN_H_
#define MIN_OUT_RATE 7 //the minimum amount of time it takes to write out to the DAC. (in us)
#define SAMPLE_TIME (MIN_OUT_RATE + TIME_MARGIN)
#define TIME_MARGIN 63 //TODO: some margin of time to allow for errors. (in us) (currently experimentally set)
#define DCO_SPEED 24

//types of waves that the wave gen supports.
#define SQUARE_WAVE 1
#define SAWTOOTH_WAVE 2
#define SINE_WAVE 3
#define TRIANGLE_WAVE 0

void main_fg(void);

static const uint16_t square_wave[2] =
{
     0,930
};
static const uint16_t sine_wave_old[512] =
{
    512,518,524,530,537,543,549,555,
    562,568,574,580,587,593,599,605,
    611,617,624,630,636,642,648,654,
    660,666,672,678,684,690,696,701,
    707,713,719,725,730,736,741,747,
    753,758,764,769,774,780,785,790,
    796,801,806,811,816,821,826,831,
    836,841,846,850,855,860,864,869,
    873,878,882,886,890,895,899,903,
    907,911,915,919,922,926,930,933,
    937,940,944,947,950,953,957,960,
    963,966,968,971,974,977,979,982,
    984,986,989,991,993,995,997,999,
    1001,1003,1004,1006,1008,1009,1011,1012,
    1013,1014,1015,1017,1017,1018,1019,1020,
    1021,1021,1022,1022,1022,1023,1023,1023,
    1023,1023,1023,1023,1022,1022,1022,1021,
    1021,1020,1019,1018,1017,1017,1015,1014,
    1013,1012,1011,1009,1008,1006,1004,1003,
    1001,999,997,995,993,991,989,986,
    984,982,979,977,974,971,968,966,
    963,960,957,953,950,947,944,940,
    937,933,930,926,922,919,915,911,
    907,903,899,895,890,886,882,878,
    873,869,864,860,855,850,846,841,
    836,831,826,821,816,811,806,801,
    796,790,785,780,774,769,764,758,
    753,747,741,736,730,725,719,713,
    707,701,696,690,684,678,672,666,
    660,654,648,642,636,630,624,617,
    611,605,599,593,587,580,574,568,
    562,555,549,543,537,530,524,518,
    512,505,499,493,486,480,474,468,
    461,455,449,443,436,430,424,418,
    412,406,399,393,387,381,375,369,
    363,357,351,345,339,333,327,322,
    316,310,304,298,293,287,282,276,
    270,265,259,254,249,243,238,233,
    227,222,217,212,207,202,197,192,
    187,182,177,173,168,163,159,154,
    150,145,141,137,133,128,124,120,
    116,112,108,104,101,97,93,90,
    86,83,79,76,73,70,66,63,
    60,57,55,52,49,46,44,41,
    39,37,34,32,30,28,26,24,
    22,20,19,17,15,14,12,11,
    10,9,8,6,6,5,4,3,
    2,2,1,1,1,0,0,0,
    0,0,0,0,1,1,1,2,
    2,3,4,5,6,6,8,9,
    10,11,12,14,15,17,19,20,
    22,24,26,28,30,32,34,37,
    39,41,44,46,49,52,55,57,
    60,63,66,70,73,76,79,83,
    86,90,93,97,101,104,108,112,
    116,120,124,128,133,137,141,145,
    150,154,159,163,168,173,177,182,
    187,192,197,202,207,212,217,222,
    227,233,238,243,249,254,259,265,
    270,276,282,287,293,298,304,310,
    316,322,327,333,339,345,351,357,
    363,369,375,381,387,393,399,406,
    412,418,424,430,436,443,449,455,
    461,468,474,480,486,493,499,505,
};

static const uint16_t sine_wave_3v[512] =
{
466 ,
471 ,
477 ,
483 ,
488 ,
494 ,
500 ,
505 ,
511 ,
517 ,
522 ,
528 ,
534 ,
539 ,
545 ,
551 ,
556 ,
562 ,
567 ,
573 ,
579 ,
584 ,
590 ,
595 ,
601 ,
606 ,
612 ,
617 ,
622 ,
628 ,
633 ,
638 ,
644 ,
649 ,
654 ,
659 ,
665 ,
670 ,
675 ,
680 ,
685 ,
690 ,
695 ,
700 ,
705 ,
710 ,
715 ,
719 ,
724 ,
729 ,
734 ,
738 ,
743 ,
747 ,
752 ,
756 ,
761 ,
765 ,
770 ,
774 ,
778 ,
782 ,
786 ,
791 ,
795 ,
799 ,
803 ,
807 ,
810 ,
814 ,
818 ,
822 ,
825 ,
829 ,
832 ,
836 ,
839 ,
843 ,
846 ,
849 ,
853 ,
856 ,
859 ,
862 ,
865 ,
868 ,
871 ,
873 ,
876 ,
879 ,
881 ,
884 ,
886 ,
889 ,
891 ,
893 ,
896 ,
898 ,
900 ,
902 ,
904 ,
906 ,
908 ,
909 ,
911 ,
913 ,
914 ,
916 ,
917 ,
918 ,
920 ,
921 ,
922 ,
923 ,
924 ,
925 ,
926 ,
927 ,
927 ,
928 ,
929 ,
929 ,
930 ,
930 ,
930 ,
931 ,
931 ,
931 ,
931 ,
931 ,
931 ,
931 ,
930 ,
930 ,
930 ,
929 ,
929 ,
928 ,
927 ,
927 ,
926 ,
925 ,
924 ,
923 ,
922 ,
921 ,
920 ,
918 ,
917 ,
916 ,
914 ,
913 ,
911 ,
909 ,
908 ,
906 ,
904 ,
902 ,
900 ,
898 ,
896 ,
893 ,
891 ,
889 ,
886 ,
884 ,
881 ,
879 ,
876 ,
873 ,
871 ,
868 ,
865 ,
862 ,
859 ,
856 ,
853 ,
849 ,
846 ,
843 ,
839 ,
836 ,
832 ,
829 ,
825 ,
822 ,
818 ,
814 ,
810 ,
807 ,
803 ,
799 ,
795 ,
791 ,
786 ,
782 ,
778 ,
774 ,
770 ,
765 ,
761 ,
756 ,
752 ,
747 ,
743 ,
738 ,
734 ,
729 ,
724 ,
719 ,
715 ,
710 ,
705 ,
700 ,
695 ,
690 ,
685 ,
680 ,
675 ,
670 ,
665 ,
659 ,
654 ,
649 ,
644 ,
638 ,
633 ,
628 ,
622 ,
617 ,
612 ,
606 ,
601 ,
595 ,
590 ,
584 ,
579 ,
573 ,
567 ,
562 ,
556 ,
551 ,
545 ,
539 ,
534 ,
528 ,
522 ,
517 ,
511 ,
505 ,
500 ,
494 ,
488 ,
483 ,
477 ,
471 ,
466 ,
460 ,
454 ,
448 ,
443 ,
437 ,
431 ,
426 ,
420 ,
414 ,
409 ,
403 ,
397 ,
392 ,
386 ,
380 ,
375 ,
369 ,
364 ,
358 ,
352 ,
347 ,
341 ,
336 ,
330 ,
325 ,
319 ,
314 ,
309 ,
303 ,
298 ,
293 ,
287 ,
282 ,
277 ,
272 ,
266 ,
261 ,
256 ,
251 ,
246 ,
241 ,
236 ,
231 ,
226 ,
221 ,
216 ,
212 ,
207 ,
202 ,
197 ,
193 ,
188 ,
184 ,
179 ,
175 ,
170 ,
166 ,
161 ,
157 ,
153 ,
149 ,
145 ,
140 ,
136 ,
132 ,
128 ,
124 ,
121 ,
117 ,
113 ,
109 ,
106 ,
102 ,
99  ,
95  ,
92  ,
88  ,
85  ,
82  ,
78  ,
75  ,
72  ,
69  ,
66  ,
63  ,
60  ,
58  ,
55  ,
52  ,
50  ,
47  ,
45  ,
42  ,
40  ,
38  ,
35  ,
33  ,
31  ,
29  ,
27  ,
25  ,
23  ,
22  ,
20  ,
18  ,
17  ,
15  ,
14  ,
13  ,
11  ,
10  ,
9   ,
8   ,
7   ,
6   ,
5   ,
4   ,
4   ,
3   ,
2   ,
2   ,
1   ,
1   ,
1   ,
0   ,
0   ,
0   ,
0   ,
0   ,
0   ,
0   ,
1   ,
1   ,
1   ,
2   ,
2   ,
3   ,
4   ,
4   ,
5   ,
6   ,
7   ,
8   ,
9   ,
10  ,
11  ,
13  ,
14  ,
15  ,
17  ,
18  ,
20  ,
22  ,
23  ,
25  ,
27  ,
29  ,
31  ,
33  ,
35  ,
38  ,
40  ,
42  ,
45  ,
47  ,
50  ,
52  ,
55  ,
58  ,
60  ,
63  ,
66  ,
69  ,
72  ,
75  ,
78  ,
82  ,
85  ,
88  ,
92  ,
95  ,
99  ,
102 ,
106 ,
109 ,
113 ,
117 ,
121 ,
124 ,
128 ,
132 ,
136 ,
140 ,
145 ,
149 ,
153 ,
157 ,
161 ,
166 ,
170 ,
175 ,
179 ,
184 ,
188 ,
193 ,
197 ,
202 ,
207 ,
212 ,
216 ,
221 ,
226 ,
231 ,
236 ,
241 ,
246 ,
251 ,
256 ,
261 ,
266 ,
272 ,
277 ,
282 ,
287 ,
293 ,
298 ,
303 ,
309 ,
314 ,
319 ,
325 ,
330 ,
336 ,
341 ,
347 ,
352 ,
358 ,
364 ,
369 ,
375 ,
380 ,
386 ,
392 ,
397 ,
403 ,
409 ,
414 ,
420 ,
426 ,
431 ,
437 ,
443 ,
448 ,
454 ,
460
};

#endif /* FGEN_H_ */
